<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Ruby Cheatsheet</title>
    <style>
        /* General Body & Font Styling */
        body {
            background-color: #1a101f;
            color: #ffffff;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        /* Main Container */
        .container {
            max-width: 900px;
            margin: 20px auto;
            padding: 20px 40px 40px 40px;
            border: 1px solid #2c2138;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }

        /* Headings */
        h1, h2, h3, h4 {
            font-weight: 400;
            margin-top: 1.8em;
            margin-bottom: 0.8em;
        }

        h1 {
            text-align: center;
            font-size: 2.8em;
            font-weight: 300;
            border-bottom: 2px solid #4d405c;
            padding-bottom: 0.5em;
            margin-top: 0.2em;
            margin-bottom: 0.2em;
        }

        h3 {
            font-size: 1.9em;
            border-bottom: 1px solid #2c2138;
            padding-bottom: 0.4em;
        }
        
        h4 {
            font-size: 1.5em;
            color: #dcd0ff;
            margin-top: 2em;
        }

        /* Version Info */
        .version-info {
            text-align: center;
            color: #887999;
            margin: 0.5em 0 2.5em 0;
            font-size: 0.9em;
        }

        /* Links */
        a {
            color: #b39ddb;
            text-decoration: none;
            transition: color 0.2s ease-in-out;
        }

        a:hover {
            color: #ffffff;
            text-decoration: underline;
        }

        /* Horizontal Rule */
        hr {
            border: 0;
            height: 1px;
            background-color: #2c2138;
            margin: 4em 0;
        }

        /* Paragraphs and Lists */
        p, ul, ol {
            margin-bottom: 1em;
        }

        ul, ol {
            padding-left: 20px;
        }

        li {
            margin-bottom: 0.5em;
        }

        /* Inline and Block Code Styling */
        code {
            font-family: 'Consolas', 'Menlo', 'Monaco', 'Courier New', monospace;
            background-color: #2c2138;
            padding: 0.2em 0.4em;
            border-radius: 4px;
            font-size: 0.9em;
        }

        pre {
            background-color: #2c2138;
            border: 1px solid #4d405c;
            border-radius: 8px;
            padding: 1.2em;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-size: 0.95em;
        }

        pre code {
            background-color: transparent;
            padding: 0;
            border-radius: 0;
            font-size: 1em; /* Inherit font size from pre */
        }
        
        .comment {
            color: #887999;
            font-style: italic;
        }
        
        /* Table of Contents Specific Styling */
        .toc {
            background-color: #22182c;
            border: 1px solid #2c2138;
            padding: 1.5em 2em;
            border-radius: 8px;
        }
        .toc ol {
            list-style-type: none;
            padding-left: 0;
        }
        .toc li {
            margin-bottom: 0.6em;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Ultimate Ruby Cheatsheet</h1>
    <p class="version-info">version 1.0.0</p>

    <div class="toc">
        <h3><strong>Table of Contents</strong></h3>
        <ol>
            <li><a href="#foundation"><strong>The Ruby Foundation</strong></a></li>
            <li><a href="#data-structures"><strong>Core Data Structures</strong></a></li>
            <li><a href="#control-flow"><strong>Control Flow & Logic</strong></a></li>
            <li><a href="#methods-blocks"><strong>Methods & Blocks</strong></a></li>
            <li><a href="#loops"><strong>Loops & Iterators</strong></a></li>
            <li><a href="#oop"><strong>Classes & Objects (OOP)</strong></a></li>
            <li><a href="#gems"><strong>Gems & Bundler</strong></a></li>
        </ol>
    </div>

    <hr>

    <h3 id="foundation">1. The Ruby Foundation</h3>

    <h4>Running Ruby Code</h4>
    <ul>
        <li><strong>Interactive Ruby (IRB):</strong> Run <code>irb</code> in your terminal.</li>
        <li><strong>From a file:</strong> Save as <code>my_script.rb</code> and run <code>ruby my_script.rb</code>.</li>
    </ul>
<pre><code>#!/usr/bin/env ruby
<span class="comment"># Shebang for executable scripts</span>

<span class="comment"># `puts` prints a string followed by a newline.</span>
puts "Hello, Ruby!"
</code></pre>

    <h4>Variables, Constants & Data Types</h4>
    <ul>
        <li>Variable names use <code>snake_case</code>.</li>
        <li>Constants start with an <code>Uppercase</code> letter.</li>
        <li>Everything in Ruby is an object, and <code>nil</code> represents nothingness.</li>
    </ul>
<pre><code><span class="comment"># Variables</span>
my_name = "Alice"
age = 30
is_active = true
price = 19.99

<span class="comment"># Constants</span>
PI = 3.14159

<span class="comment"># nil is an object representing the absence of a value</span>
result = nil
</code></pre>

    <h4>String Interpolation & Common Methods</h4>
    <ul>
        <li>Double quotes (<code>"..."</code>) allow for interpolation (<code>#{...}</code>).</li>
        <li>Single quotes (<code>'...'</code>) are literal.</li>
    </ul>
<pre><code>user = "Bob"
<span class="comment"># String interpolation</span>
greeting = "Welcome, #{user}!"
puts greeting

<span class="comment"># Common String methods (many have a `!` variant that modifies the string in-place)</span>
puts "hello".upcase          <span class="comment"># "HELLO"</span>
puts "WORLD".downcase        <span class="comment"># "world"</span>
puts "  some text  ".strip   <span class="comment"># "some text"</span>
puts greeting.include?("Bob") <span class="comment"># true</span>
puts "a,b,c".split(',')      <span class="comment"># ["a", "b", "c"]</span>
</code></pre>

    <h4>Getting User Input</h4>
    <p><code>gets</code> reads a line from the user, and <code>.chomp</code> removes the trailing newline.</p>
<pre><code>print "What is your name? " <span class="comment"># `print` does not add a newline</span>
name = gets.chomp
puts "Nice to meet you, #{name}!"
</code></pre>

    <hr>

    <h3 id="data-structures">2. Core Data Structures</h3>
    <h4>Arrays</h4>
    <p>Ordered, integer-indexed collections of any object.</p>
<pre><code><span class="comment"># Creation</span>
numbers = [1, 2, 3, 4, 5]

<span class="comment"># Accessing elements (0-indexed)</span>
puts numbers[0]     <span class="comment"># 1</span>
puts numbers[-1]    <span class="comment"># 5 (last element)</span>

<span class="comment"># Adding elements</span>
numbers << 6        <span class="comment"># Shovel operator: [1, 2, 3, 4, 5, 6]</span>
numbers.push(7)     <span class="comment"># [1, 2, 3, 4, 5, 6, 7]</span>

<span class="comment"># Removing elements</span>
numbers.pop         <span class="comment"># Removes and returns 7</span>
</code></pre>

    <h4>Hashes</h4>
    <p>A collection of key-value pairs.</p>
<pre><code><span class="comment"># Creation (modern "rocketless" syntax with symbols)</span>
person = {
  name: "Bogdan",
  age: 30,
  is_admin: true
}

<span class="comment"># Creation (classic "hash rocket" syntax)</span>
old_style = { "name" => "Charlie", "age" => 25 }

<span class="comment"># Accessing values</span>
puts person[:name] <span class="comment"># "Bogdan" (using the symbol :name as key)</span>

<span class="comment"># Adding/modifying pairs</span>
person[:city] = "New York"
person[:age] = 31
</code></pre>

    <h4>Symbols</h4>
    <p>Lightweight, immutable strings, often used as hash keys for efficiency. They are prefixed with a colon (<code>:</code>).</p>
<pre><code>:name <span class="comment"># This is a symbol</span>
:success
</code></pre>

    <hr>

    <h3 id="control-flow">3. Control Flow & Logic</h3>
    <h4><code>if</code>/<code>elsif</code>/<code>else</code> Conditionals</h4>
    <p>Only <code>false</code> and <code>nil</code> are "falsy" in Ruby. Everything else is "truthy".</p>
<pre><code>score = 85

if score >= 90
  puts "Grade: A"
elsif score >= 80
  puts "Grade: B"
else
  puts "Grade: C or lower"
end

<span class="comment"># `unless` is the opposite of `if`</span>
is_logged_in = false
puts "Please log in." unless is_logged_in
</code></pre>

    <h4>Ternary & Inline Conditionals</h4>
<pre><code><span class="comment"># Ternary operator</span>
result = score >= 60 ? "Pass" : "Fail"
puts result

<span class="comment"># Inline/modifier conditional</span>
puts "Congratulations!" if score > 95
</code></pre>

    <h4><code>case</code> Statements</h4>
<pre><code>grade = "B"

case grade
when "A"
  puts "Excellent!"
when "B"
  puts "Good job."
when "C"
  puts "You can do better."
else
  puts "Invalid grade."
end
</code></pre>

    <hr>

    <h3 id="methods-blocks">4. Methods & Blocks</h3>
    <h4>Defining and Calling Methods</h4>
    <p>The last evaluated expression in a method is automatically returned (implicit return).</p>
<pre><code><span class="comment"># Parentheses for arguments are often optional</span>
def greet(name, punctuation = "!")
  "Hello, #{name}#{punctuation}" <span class="comment"># Implicit return</span>
end

puts greet("World")
puts greet("Ruby", "!!!")
</code></pre>

    <h4>Blocks, Procs, and Lambdas</h4>
    <p>A <strong>block</strong> is a chunk of code that can be passed to a method. This is a core feature of Ruby.</p>
<pre><code><span class="comment"># A method that accepts a block using `yield`</span>
def run_task
  puts "Starting task..."
  yield <span class="comment"># This executes the block passed to the method</span>
  puts "Task finished."
end

run_task { puts "Doing the work inside the block!" }

<span class="comment"># Passing arguments to a block</span>
def with_name(name)
  yield(name.upcase)
end

with_name("Alice") { |n| puts "The name in uppercase is #{n}" }
</code></pre>

    <hr>

    <h3 id="loops">5. Loops & Iterators</h3>
    <h4>The <code>.each</code> Iterator (The Ruby Way)</h4>
    <p>Iterating with blocks is the most common and idiomatic way to loop in Ruby.</p>
<pre><code>fruits = ["apple", "banana", "cherry"]

<span class="comment"># The .each method iterates over each element, passing it to the block</span>
fruits.each do |fruit|
  puts "I love #{fruit}s."
end

<span class="comment"># Single-line blocks use curly braces {}</span>
(1..5).each { |num| print "#{num} " } <span class="comment"># Prints "1 2 3 4 5 "</span>
</code></pre>

    <h4><code>while</code> and <code>until</code> Loops</h4>
<pre><code><span class="comment"># while loop</span>
count = 1
while count <= 5
  puts "Count: #{count}"
  count += 1
end

<span class="comment"># until loop (runs until the condition is true)</span>
power_level = 1
until power_level > 9000
  power_level *= 2
end
</code></pre>

    <hr>

    <h3 id="oop">6. Classes & Objects (OOP)</h3>
    <h4>Defining a Class</h4>
    <ul>
        <li>Class names use <code>CamelCase</code>.</li>
        <li>Instance variables start with <code>@</code>.</li>
    </ul>
<pre><code>class User
  <span class="comment"># attr_accessor creates getter and setter methods for us</span>
  attr_accessor :name, :email

  <span class="comment"># The constructor method</span>
  def initialize(name, email)
    @name = name   <span class="comment"># Instance variable</span>
    @email = email
  end

  <span class="comment"># An instance method</span>
  def greet
    "Hello, my name is #{@name}."
  end
end

<span class="comment"># Creating an object (an instance of the class)</span>
user1 = User.new("Dev", "dev@example.com")

<span class="comment"># Using the methods</span>
puts user1.greet         <span class="comment"># "Hello, my name is Dev."</span>
user1.name = "Developer" <span class="comment"># Using the setter from attr_accessor</span>
puts user1.name          <span class="comment"># "Developer"</span>
</code></pre>

    <h4>Inheritance</h4>
    <p>A class can inherit behavior from a parent class using <code>&lt;</code>.</p>
<pre><code>class Admin < User
  <span class="comment"># Inherits initialize, name, email, and greet from User</span>
  def announce
    "I am an admin named #{@name}!"
  end
end

admin = Admin.new("Superuser", "admin@corp.com")
puts admin.greet     <span class="comment"># Method from parent class</span>
puts admin.announce  <span class="comment"># Method from its own class</span>
</code></pre>

    <hr>

    <h3 id="gems">7. Gems & Bundler</h3>
    <p><strong>Gems</strong> are libraries of code. <strong>Bundler</strong> is the tool for managing gem dependencies.</p>
    <p><strong>1. Create a <code>Gemfile</code> in your project root:</strong></p>
<pre><code><span class="comment"># Gemfile</span>
source 'https://rubygems.org'

<span class="comment"># Declare the gems your project needs</span>
gem 'httparty', '~> 0.20'
gem 'rspec'
</code></pre>

    <p><strong>2. Install the gems:</strong></p>
<pre><code><span class="comment"># In your terminal</span>
bundle install
</code></pre>

    <p><strong>3. Use the gems in your script:</strong></p>
<pre><code><span class="comment"># my_script.rb</span>
require 'httparty' <span class="comment"># `require` loads the gem</span>

response = HTTParty.get('http://api.open-notify.org/astros.json')
puts response.body
</code></pre>

    <p><strong>4. Run your script using Bundler:</strong></p>
<pre><code>bundle exec ruby my_script.rb
</code></pre>
</div>

</body>
</html>
